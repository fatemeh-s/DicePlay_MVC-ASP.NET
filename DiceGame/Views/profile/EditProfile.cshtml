@model DiceGame.Models.User
@{
    ViewBag.Title = "EditProfile";
}
    <script>
        function previewImage(event) {
            // Get a reference to the image element
            var image = document.getElementById("profileImage");
            image.innerHTML(URL.createObjectURL(event.target.files[0]));
            // Set its source to the file in the <input type=file element
            src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
<div class="container" ng-app="myApp" ng-controller="photoControl">
    <h1>Edit Profile</h1>
    <hr>
    <div class="row">
        <!-- left column -->
        <div class="col-md-3">
            <div class="text-center">
                <form action="/profile/saveImage" method="post" enctype="multipart/form-data">
                    <img src=@Model.Picture class="avatar img-circle" id ="profileImage" alt="avatar">
                    @*<input type="file" name="photo" id="photo" />

                    <input type="button" value="Upload" onclick="previewImage(event)" />*@
                    @Html.TextBoxFor(m => m.Picture);
                    <input type="submit" value="post"  />
                </form>

                    @*
            <h6>Upload a different photo...</h6>

            <input type="file" class="form-control">*@
        </div>
            

                @*<label for="photo">Photo:</label>*@
                @*<input type="file" name="photo" id="photo" />

                <input type="submit" value="Upload" />*@
           
        </div>

        <!-- edit form column -->
        <div class="col-md-9 personal-info">
            <div class="alert alert-info alert-dismissable">
                <a class="panel-close close" data-dismiss="alert">×</a>
                <i class="fa fa-coffee"></i>
                This is an <strong>.alert</strong>. Use this to show important messages to the user.
            </div>
            <h3>Personal info</h3>

            @using (Html.BeginForm("EditProfiles", "profile"))
            {
                <div class="form-group">
                    @Html.LabelFor(m => m.FirstName)
                    @Html.TextBoxFor(m => m.FirstName, Model.FirstName, new { @class = "form-control" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.LastName)
                    @Html.TextBoxFor(m => m.LastName, Model.LastName,new { @class = "form-control" })
                </div>
                <div class="form-group">
                   @Html.LabelFor(m => m.UserName)
                   @Html.TextBoxFor(m => m.UserName, Model.UserName ,  new { @class = "form-control" })
                </div>
                <div class="form-group">
                   @Html.LabelFor(m => m.Password)
                   @Html.TextBoxFor(m => m.Password,Model.Password , new { @class = "form-control" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Gender)
                    @Html.TextBoxFor(m => m.Gender,Model.Gender , new { @class = "form-control" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.BirthDay)
                    @Html.TextBoxFor(m => m.BirthDay,Model.BirthDay , new { @class = "form-control" })
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Email)
                    @Html.TextBoxFor(m => m.Email,Model.Email , new { @class = "form-control" })
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">save</button>
                    <input type="button" value="cancel" onclick="location.href='@Url.Action("profileIndex", "profile")'" />
                </div>
            }
        </div>
    </div>
</div>
<hr>

